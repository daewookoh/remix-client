import type { StrategyVerifyCallback } from "remix-auth";
import { type OAuth2Profile, OAuth2Strategy, type OAuth2StrategyOptions, type OAuth2StrategyVerifyParams, type TokenResponseBody } from "remix-auth-oauth2";
import { UserProfile } from "./lib/user-profile.js";
type URLConstructor = ConstructorParameters<typeof URL>[0];
export interface GitHubStrategyOptions extends Omit<OAuth2StrategyOptions, "scopes" | "authorizationEndpoint" | "tokenEndpoint"> {
    scopes?: GitHubScope[];
    allowSignup?: boolean;
    userAgent?: string;
    authorizationEndpoint?: URLConstructor;
    tokenEndpoint?: URLConstructor;
    userInfoEndpoint?: URLConstructor;
    userEmailsEndpoint?: URLConstructor;
}
/**
 * @see https://docs.github.com/en/developers/apps/building-oauth-apps/scopes-for-oauth-apps#available-scopes
 */
export type GitHubScope = "repo" | "repo:status" | "repo_deployment" | "public_repo" | "repo:invite" | "security_events" | "admin:repo_hook" | "write:repo_hook" | "read:repo_hook" | "admin:org" | "write:org" | "read:org" | "admin:public_key" | "write:public_key" | "read:public_key" | "admin:org_hook" | "gist" | "notifications" | "user" | "read:user" | "user:email" | "user:follow" | "project" | "read:project" | "delete_repo" | "write:packages" | "read:packages" | "delete:packages" | "write:discussion" | "read:discussion" | "admin:gpg_key" | "write:gpg_key" | "read:gpg_key" | "codespace" | "workflow";
export type GitHubEmails = NonNullable<OAuth2Profile["emails"]>;
export type GitHubEmailsResponse = {
    email: string;
    verified: boolean;
    primary: boolean;
    visibility: string | null;
}[];
export interface GitHubProfile extends OAuth2Profile {
    id: string;
    displayName: string;
    name: {
        familyName: string;
        givenName: string;
        middleName: string;
    };
    emails: NonNullable<OAuth2Profile["emails"]>;
    photos: NonNullable<OAuth2Profile["photos"]>;
    _json: UserProfile.Type;
}
export interface GitHubExtraParams extends Record<string, string | number | null> {
    tokenType: string;
    accessTokenExpiresIn: number | null;
    refreshTokenExpiresIn: number | null;
}
export declare let GitHubStrategyDefaultName: string;
export declare let GitHubStrategyDefaultScope: GitHubScope;
export declare let GitHubStrategyScopeSeperator: string;
export declare class GitHubStrategy<User> extends OAuth2Strategy<User, GitHubProfile, GitHubExtraParams> {
    name: string;
    private allowSignup;
    private userAgent;
    private userInfoEndpoint;
    private userEmailsEndpoint;
    constructor({ allowSignup, userAgent, scopes, userInfoEndpoint, userEmailsEndpoint, authorizationEndpoint, tokenEndpoint, ...options }: GitHubStrategyOptions, verify: StrategyVerifyCallback<User, OAuth2StrategyVerifyParams<GitHubProfile, GitHubExtraParams>>);
    protected authorizationParams(params: URLSearchParams): URLSearchParams;
    protected userEmails(accessToken: string): Promise<GitHubEmails>;
    protected userProfile(tokens: TokenResponseBody): Promise<GitHubProfile>;
}
export {};
